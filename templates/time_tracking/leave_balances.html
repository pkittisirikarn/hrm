{% extends "base.html" %}
{% block title %}Leave Balances{% endblock %}

{% block content %}
<div class="bg-white rounded-lg shadow-md p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Leave Balances</h2>

  <div class="flex gap-2 items-end mb-4">
    <select id="lbEmployee" class="border rounded px-3 py-2 min-w-[280px]">
      <!-- เติมด้วย JS จาก /api/v1/data-management/employees/ -->
    </select>
    <input id="lbYear" type="number" class="border rounded px-3 py-2 w-24" value="{{ now().year if now else 2025 }}">
    <button id="lbLoad" class="bg-blue-600 text-white px-4 py-2 rounded">แสดงข้อมูล</button>
    <button id="lbSeed" class="bg-gray-700 text-white px-4 py-2 rounded">รีเซ็ตค่า</button>
  </div>

  <div id="ltFilterBar" class="flex flex-wrap gap-2 my-3"></div>
  <!-- ปุ่มจะถูกเติมด้วย JS -->
  </div>

  <div id="lbTabs" class="flex gap-4 border-b mb-2"></div>

  <div class="overflow-x-auto rounded border">
    <table class="min-w-full">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 text-left">ลำดับ</th>
          <th class="px-4 py-2 text-left">ประเภท</th>
          <th class="px-4 py-2 text-left">จำนวนวันทั้งหมด</th>
          <th class="px-4 py-2 text-left">จำนวนวันเพิ่ม/ลด</th>
          <th class="px-4 py-2 text-left">จำนวนวันที่ใช้</th>
          <th class="px-4 py-2 text-left">จำนวนวันคงเหลือ</th>
          <th class="px-4 py-2 text-left">ปรับปรุง</th>
        </tr>
      </thead>
      <tbody id="lbBody"></tbody>
    </table>
  </div>

  <div id="lbMsg" class="mt-3 text-sm"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/time_tracking/leave_balance_view.js"></script>
{% endblock %}
